webpackJsonp([1],{0:function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n={addEvent:function(t,e,i){var n=arguments.length>3&&void 0!==arguments[3]&&arguments[3];t.addEventListener?t.addEventListener(e,i,n):t.attachEvent?t.attachEvent("on"+e,i):t["on"+e]=i},removeEvent:function(t,e,i){t.removeEventListener?t.removeEventListener(e,i):t.detachEvent?t.detachEvent("on"+e,i):t["on"+e]=null},fireEvent:function(t,e,i,n){if(document.createEvent){var o=document.createEvent("Event");o.initEvent(e,void 0===i||i,void 0!==n&&n),t.dispatchEvent(o)}else if(document.createEventObject){var a=document.createEventObject();t.fireEvent("on"+e,a)}else"function"==typeof t["on"+e]&&t["on"+e]()},cancelEvent:function(t){return t.preventDefault?t.preventDefault():t.returnValue=!1,t.stopPropagation?t.stopPropagation():t.cancelBubble=!0,!1},setTransform:function(t,e){t.style.webkitTransform=e,t.style.mozTransform=e,t.style.msTransform=e,t.style.oTransform=e,t.style.transform=e},setTransitionDuration:function(t,e){t.style.webkitTransitionDuration=e+"ms",t.style.mozTransitionDuration=e+"ms",t.style.oTransitionDuration=e+"ms",t.style.transitionDuration=e+"ms"},transitionEnd:function(t,e){this.addEvent(t,"transitionend",e,!1),this.addEvent(t,"webkitTransitionEnd",e,!1),this.addEvent(t,"mozTransitionEnd",e,!1),this.addEvent(t,"oTransitionEnd",e,!1)},delTransitionEnd:function(t,e){this.removeEvent(t,"transitionend",e,!1),this.removeEvent(t,"webkitTransitionEnd",e,!1),this.removeEvent(t,"mozTransitionEnd",e,!1),this.removeEvent(t,"oTransitionEnd",e,!1)},animationEnd:function(t,e){this.addEvent(t,"animationend",e,!1),this.addEvent(t,"webkitAnimationEnd",e,!1),this.addEvent(t,"mozAnimationEnd",e,!1),this.addEvent(t,"OAnimationEnd",e,!1)},delAnimationEnd:function(t,e){this.removeEvent(t,"animationend",e,!1),this.removeEvent(t,"webkitAnimationEnd",e,!1),this.removeEvent(t,"mozAnimationEnd",e,!1),this.removeEvent(t,"OAnimationEnd",e,!1)},isIE:function(){return!!(window.ActiveXObject||"ActiveXObject"in window)},addPrefix:function(t,e,i){var n=["webkit","moz","o","ms"],o=e.split("");o[0]=o[0].toUpperCase(),o=o.join(""),n.forEach(function(e){t.style[e+o]=i}),t.style[e]=i},getStyle:function(t,e){return"getComputedStyle"in window?getComputedStyle(t,!1)[e]:t.currentStyle[e]},getOffsetTop:function(t){for(var e=t.offsetTop,i=t.offsetParent;null!=i;)e+=i.offsetTop,i=i.offsetParent;return e},getOffsetLeft:function(t){for(var e=t.offsetLeft,i=t.offsetParent;null!=i;)e+=i.offsetLeft,i=i.offsetParent;return e}};e.default=n},2:function(t,e,i){"use strict";function n(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(e,"__esModule",{value:!0});var o=function(){function t(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,i,n){return i&&t(e.prototype,i),n&&t(e,n),e}}(),a=function(t){return t<10?"0"+t:t},r=function(){function t(e,i){n(this,t);var o={width:1024,height:768,r:250,x:512,y:384,cirleLineWidth:20,cirleLineColor:"#000",hourScaleWidth:5,hourScaleHeight:30,hourScaleColor:"#000",minuteScaleWidth:3,minuteScaleHeight:15,minuteScaleColor:"#999",numSize:30,numFamily:"Arial",numColor:"#000",numDis:50,hourLineWidth:10,hourLineColor:"#000",hourLineShortDis:25,hourLineLongDis:120,hourLineStyle:"round",minuteLineWidth:5,minuteLineColor:"#999",minuteLineShortDis:20,minuteLineLongDis:180,minuteLineStyle:"round",secondsLineWidth:10,secondsLineColor:"#f00",secondsLineShortDis:40,secondsLineLongDis:200,centerCirleColor:"#999",centerCirleRadius:10,onChange:function(){}};this.canvas=document.querySelector(e),this.ctx=this.canvas.getContext("2d"),this.params=Object.assign({},o,i),this.init()}return o(t,[{key:"init",value:function(){var t=this,e=this.canvas,i=this.params;e.width=i.width,e.height=i.height,this.run(),setInterval(function(){t.run()},1e3)}},{key:"run",value:function(){var t=this.canvas,e=this.ctx,i=this.params,n=new Date,o=n.getHours(),r=n.getMinutes(),s=n.getSeconds(),h=30*(o-12)+r/60*30,c=6*r,u=6*s;e.clearRect(0,0,t.width,t.height),e.save(),e.translate(t.width/2,t.height/2),this.drawWatchRound(),this.drawHourScale(),this.drawMinuteScale(),this.drawWatchNumber(),this.drawHour(h),this.drawMinute(c),this.drawSeconds(u),this.drawCenterRound(),e.restore();var l=a(o)+":"+a(r)+":"+a(s);i.onChange&&i.onChange.call(this,l,a(o),a(r),a(s))}},{key:"drawWatchRound",value:function(){var t=this.ctx,e=this.params;t.beginPath(),t.arc(0,0,e.r,0,2*Math.PI),t.lineWidth=e.cirleLineWidth,t.strokeStyle=e.cirleLineColor,t.stroke(),t.closePath()}},{key:"drawHourScale",value:function(){for(var t=this.ctx,e=this.params,i=0;i<12;i++)t.save(),t.beginPath(),t.rotate(30*i*Math.PI/180),t.moveTo(0,-e.r+e.cirleLineWidth/2),t.lineTo(0,-e.r+e.cirleLineWidth/2+e.hourScaleHeight),t.lineWidth=e.hourScaleWidth,t.strokeStyle=e.hourScaleColor,t.closePath(),t.stroke(),t.restore()}},{key:"drawMinuteScale",value:function(){for(var t=this.ctx,e=this.params,i=0;i<12;i++)for(var n=1;n<5;n++)t.save(),t.beginPath(),t.rotate((30*i+6*n)*Math.PI/180),t.moveTo(0,-e.r+e.cirleLineWidth/2),t.lineTo(0,-e.r+e.cirleLineWidth/2+e.minuteScaleHeight),t.lineWidth=e.minuteScaleWidth,t.strokeStyle=e.minuteScaleColor,t.closePath(),t.stroke(),t.restore()}},{key:"drawWatchNumber",value:function(){for(var t=this.ctx,e=this.params,i=0;i<12;i++){t.save(),t.beginPath();var n=30*i*Math.PI/180;t.font=e.numSize+"px "+e.numFamily,t.textAlign="center",t.fillStyle=e.numColor,t.fillText(0===i?"12":i,(e.r-e.cirleLineWidth/2-e.numDis)*Math.sin(n),-((e.r-e.cirleLineWidth/2-e.numDis)*Math.cos(n)-2*e.numSize/5)),t.closePath(),t.restore()}}},{key:"drawHour",value:function(t){var e=this.ctx,i=this.params;e.beginPath(),e.save(),e.rotate(t*Math.PI/180),e.lineWidth=i.hourLineWidth,e.lineCap=i.hourLineStyle,e.strokeStyle=i.hourLineColor,e.moveTo(0,i.hourLineShortDis),e.lineTo(0,-i.hourLineLongDis),e.stroke(),e.restore()}},{key:"drawMinute",value:function(t){var e=this.ctx,i=this.params;e.beginPath(),e.save(),e.rotate(t*Math.PI/180),e.lineWidth=i.minuteLineWidth,e.lineCap=i.minuteLineStyle,e.strokeStyle=i.minuteLineColor,e.moveTo(0,i.minuteLineShortDis),e.lineTo(0,-i.minuteLineLongDis),e.stroke(),e.restore()}},{key:"drawSeconds",value:function(t){var e=this.ctx,i=this.params;e.beginPath(),e.save(),e.rotate(t*Math.PI/180),e.fillStyle=i.secondsLineColor,e.moveTo(-i.secondsLineWidth/2,i.secondsLineShortDis),e.lineTo(i.secondsLineWidth/2,i.secondsLineShortDis),e.lineTo(0,-i.secondsLineLongDis),e.closePath(),e.fill(),e.restore()}},{key:"drawCenterRound",value:function(){var t=this.ctx,e=this.params;t.beginPath(),t.fillStyle=e.centerCirleColor,t.arc(0,0,e.centerCirleRadius,0,2*Math.PI),t.fill(),t.closePath()}}]),t}();e.default=r},56:function(t,e,i){t.exports=i(57)},57:function(t,e,i){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}i(58);var o=i(0),a=(n(o),i(2)),r=n(a);i(59);var s=i(60),h=n(s);window.onload=function(){new r.default("#canvas-1",{width:800,height:600}),new h.default(".canvas-box-3",{onSuccess:function(){var t=this;setTimeout(function(){alert("解锁成功"),t.reset()},1e3)}})}},58:function(t,e){},59:function(t,e,i){"use strict";function n(t,e){var i=h.getBoundingClientRect();return{x:t-i.left,y:e-i.top}}function o(t,e){c.clearRect(0,0,h.width,h.height),c.drawImage(m,0,0,f,v),t&&a(e)}function a(t){var e=2*t.x,i=2*t.y,n=100,o=e-n,a=i-n,r=t.x-n,s=t.y-n;c.save(),c.beginPath(),c.lineWidth=20,c.strokeStyle="#08c",c.arc(t.x,t.y,n,0,2*Math.PI),c.stroke(),c.clip(),c.drawImage(u,o,a,200,200,r,s,200,200),c.restore()}var r=i(0),s=function(t){return t&&t.__esModule?t:{default:t}}(r),h=document.querySelector("#canvas-2"),c=h.getContext("2d"),u=document.querySelector("#offCanvas"),l=u.getContext("2d"),d=!1,f=h.width=960,v=h.height=600,m=new Image;m.src="https://timgsa.baidu.com/timg?image&quality=80&size=b9999_10000&sec=1519835358147&di=796f97a270714d2c1d7762585fcc56bd&imgtype=0&src=http%3A%2F%2Fpic1.win4000.com%2Fwallpaper%2Fa%2F596c20a8d333d.jpg",m.onload=function(){u.width=m.width,u.height=m.height,c.drawImage(m,0,0,f,v),l.drawImage(m,0,0)},s.default.addEvent(h,"mousemove",function(t){t.preventDefault(),o(!0,n(t.clientX,t.clientY))}),s.default.addEvent(h,"mouseup",function(t){t.preventDefault(),o(!1)}),s.default.addEvent(h,"mouseout",function(t){t.preventDefault(),d=!1,o(!1)})},60:function(t,e,i){"use strict";function n(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(e,"__esModule",{value:!0});var o=function(){function t(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,i,n){return i&&t(e.prototype,i),n&&t(e,n),e}}(),a=i(0),r=function(t){return t&&t.__esModule?t:{default:t}}(a),s=function t(e,i,o){n(this,t),this.x=e,this.y=i,this.r=o,this.theme=0},h=function(){function t(e,i){n(this,t);var o={width:300,height:300,cols:3,rows:3,bg:"#aaa",near:!0,correct:[0,1,2,4,6,7,8],onSuccess:function(){},onError:function(){}};this.container=document.querySelector(e),this.params=Object.assign({},o,i),this.items=[],this.lines=[],this.isMouseDown=!1,this.moveXY=null,this.isError=!1,this.init()}return o(t,[{key:"init",value:function(){this.initCanvas(),this.pageInit(),this.drawBg(),this.bindEvent(),this.animate()}},{key:"initCanvas",value:function(){var t=this.params;this.canvas=document.createElement("canvas"),this.ctx=this.canvas.getContext("2d"),this.canvas.width=t.width,this.canvas.height=t.height,this.container.appendChild(this.canvas)}},{key:"pageInit",value:function(){for(var t=this.params,e=t.cols,i=t.rows,n=Math.floor(t.width/e),o=Math.floor(t.height/i),a=0,r=i*e;a<r;a++){var h=Math.floor(n/2)+Math.floor(a%e)*n,c=Math.floor(o/2)+Math.floor(a/e)*o,u=Math.floor(n/2*.6),l=new s(h,c,u);l.i=a,this.items.push(l)}}},{key:"drawBg",value:function(){var t=this.params,e=t.bg,i=this.ctx;i.save(),i.beginPath(),i.fillStyle=e,i.fillRect(0,0,t.width,t.height),i.restore()}},{key:"bindEvent",value:function(){this.isTouch="ontouchend"in document,this.touchstart=this.isTouch?"touchstart":"mousedown",this.touchmove=this.isTouch?"touchmove":"mousemove",this.touchend=this.isTouch?"touchend":"mouseup",this._start=this.start.bind(this),this._move=this.move.bind(this),this._end=this.end.bind(this),r.default.addEvent(this.canvas,this.touchstart,this._start),r.default.addEvent(this.canvas,this.touchmove,this._move),r.default.addEvent(this.canvas,this.touchend,this._end)}},{key:"start",value:function(t){t=this.isTouch?t.touches[0]:t,this.isMouseDown=!0;var e=this.windowToCanvas(t.clientX,t.clientY);this.check(e)}},{key:"move",value:function(t){if(t=this.isTouch?t.touches[0]:t,this.isMouseDown){var e=this.moveXY=this.windowToCanvas(t.clientX,t.clientY);this.check(e)}}},{key:"end",value:function(t){var e=this;t=this.isTouch?t.touches[0]:t,this.isMouseDown=!1,this.moveXY=null,this.checkLines()?this.params.onSuccess&&this.params.onSuccess.call(this):(this.isError=!0,this.items.forEach(function(t){1===t.theme&&(t.theme=2)}),this.params.onError&&this.params.onError.call(this),setTimeout(function(){e.reset()},1e3))}},{key:"check",value:function(t){var e=this,i=this.params.cols,n=!0;this.items.forEach(function(o){if(1!==o.theme&&e.isInCirle(o,t.x,t.y)){if(e.lines.length>0&&e.params.near){var a=o.i,r=e.lines[e.lines.length-1].i;n=Math.abs(a%i-r%i)<2&&Math.abs(Math.floor(a/i)-Math.floor(r/i))<2}else n=!0;n&&(o.theme=1,e.lines.push(o))}})}},{key:"checkLines",value:function(){var t=!0;if(this.lines.length!==this.params.correct.length)return!1;for(var e=0,i=this.lines.length;e<i;e++)if(this.lines[e].i!==this.params.correct[e]){t=!1;break}return t}},{key:"isInCirle",value:function(t,e,i){var n=e-t.x,o=i-t.y;return Math.sqrt(n*n+o*o)<t.r}},{key:"windowToCanvas",value:function(t,e){var i=this.canvas.getBoundingClientRect();return{x:t-i.left,y:e-i.top}}},{key:"reset",value:function(){this.items.forEach(function(t){t.theme=0}),this.lines=[],this.isError=!1}},{key:"animate",value:function(){var t=this;this.ctx.clearRect(0,0,this.params.width,this.params.height),this.drawBg(),this.items.forEach(function(e){t.drawItem(e)}),this.drawLine(),window.requestAnimationFrame(this.animate.bind(this))}},{key:"drawItem",value:function(t){var e=this.ctx;switch(t.theme){case 0:e.beginPath(),e.strokeStyle="#fff",e.arc(t.x,t.y,t.r,0,2*Math.PI),e.stroke(),e.closePath();break;case 1:this.drawMoveItem(t,"rgba(0, 154, 97, 1)","rgba(255, 255, 255, .6)");break;case 2:this.drawMoveItem(t,"rgba(247, 87, 75, 1)","rgba(248, 208, 205, .6)")}}},{key:"drawMoveItem",value:function(t,e,i){var n=this.ctx;n.beginPath(),n.fillStyle=i,n.arc(t.x,t.y,t.r,0,2*Math.PI),n.fill(),n.closePath(),n.beginPath(),n.fillStyle=e,n.arc(t.x,t.y,.3*t.r,0,2*Math.PI),n.fill(),n.closePath(),n.beginPath(),n.strokeStyle=e,n.arc(t.x,t.y,t.r,0,2*Math.PI),n.stroke(),n.closePath()}},{key:"drawLine",value:function(){var t=this.ctx,e=this.lines,i=this.moveXY;if(e.length>0){t.save(),t.beginPath(),t.strokeStyle=this.isError?"rgba(247, 87, 75, 1)":"rgba(0,154,97,1)",t.lineWidth=4;for(var n=0;n<e.length;n++)0==n&&t.moveTo(e[n].x,e[n].y),e[n+1]&&t.lineTo(e[n+1].x,e[n+1].y);i&&t.lineTo(i.x,i.y),t.stroke(),t.closePath(),t.restore()}}}]),t}();e.default=h}},[56]);